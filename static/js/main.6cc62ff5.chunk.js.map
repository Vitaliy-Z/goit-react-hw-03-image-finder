{"version":3,"sources":["components/searchbar/searchbar.js","components/imagefinderApi.js","components/imageGallery/imageGalleryItem.js","components/button/button.js","components/spiner/spiner.js","components/modal/modal.js","components/imageGallery/imageGallery.js","App.js","index.js"],"names":["Searchbar","state","searchQuery","handleNameChange","evt","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","this","type","autoComplete","autoFocus","placeholder","name","onChange","Component","fetchImages","pageNumber","fetch","then","res","json","hits","ImageGalleryItem","images","getLargeImageURL","map","image","src","webformatURL","data-src","largeImageURL","alt","tag","onClick","e","target","dataset","id","BtnLoadMore","typ","Spiner","color","secondaryColor","height","width","Modal","handleKeyDown","code","onClose","handelBackdropClick","window","addEventListener","removeEventListener","createPortal","href","document","querySelector","status","ImageGallery","showModal","handleBtnClick","prevState","toogleModal","prevProps","imageFinderApi","scrollTo","top","documentElement","scrollHeight","behavior","App","handleSubmitSeachForm","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6cc62ff5.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: \"\",\r\n  };\r\n\r\n  handleNameChange = (evt) => {\r\n    this.setState({ searchQuery: evt.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    if (this.state.searchQuery.trim() === \"\") {\r\n      alert(\"Enter text, please\");\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"name\"\r\n            value={this.state.searchQuery}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","const KEY = \"19040716-d2ab54626dacf9b7f6f91612a\";\r\n\r\nfunction fetchImages(searchQuery, pageNumber) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${pageNumber}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  )\r\n    .then((res) => res.json())\r\n    .then(({ hits }) => hits);\r\n}\r\n\r\nexport default fetchImages;\r\n","import React from \"react\";\r\n\r\nexport default function ImageGalleryItem({ images, getLargeImageURL }) {\r\n  return images.map((image) => (\r\n    <li className=\"ImageGalleryItem\" key={image.id}>\r\n      <img\r\n        src={image.webformatURL}\r\n        data-src={image.largeImageURL}\r\n        alt={image.tag}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={(e) => getLargeImageURL(e.target.dataset.src)}\r\n      />\r\n    </li>\r\n  ));\r\n}\r\n","export default function BtnLoadMore({ onClick }) {\r\n  return (\r\n    <button typ=\"button\" className=\"Button\" onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n","import { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default class Spiner extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className=\"loader\"\r\n        type=\"ThreeDots\"\r\n        color=\"plum\"\r\n        secondaryColor=\"grey\"\r\n        height={40}\r\n        width={80}\r\n      />\r\n    );\r\n  }\r\n}\r\n","// // import * as basicLightbox from \"basiclightbox\";\r\n\r\n// export default function openModal(evt) {\r\n//   evt.preventDefault();\r\n\r\n//   if (evt.target.nodeName !== \"IMG\") {\r\n//     return;\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"Overlay\">\r\n//       <div className=\"Modal\">\r\n//         <img src=\"{evt.target.dataset.src}\" alt=\"{evt.target.alt}\" />\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\nimport React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n// import \"./Modal.scss\";\r\n// import IconButton from \"../IconButton/IconButton\";\r\n// import { ReactComponent as CloseIcon } from \"../../icons/close.svg\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handelBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handelBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <a href={this.props.largeImageURL}>\r\n            <img src={this.props.largeImageURL} alt=\"\" />\r\n          </a>\r\n        </div>\r\n      </div>,\r\n      document.querySelector(\"#modal-root\")\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport imageFinderApi from \"../imagefinderApi\";\r\nimport ImageGalleryItem from \"./imageGalleryItem\";\r\nimport BtnLoadMore from \"../button/button\";\r\nimport Spiner from \"../spiner/spiner\";\r\nimport Modal from \"../modal/modal\";\r\n\r\nconst status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    images: null,\r\n    pageNumber: 1,\r\n    showModal: false,\r\n    largeImageURL: \"\",\r\n    status: status.IDLE,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.searchQuery !== this.props.searchQuery) {\r\n      this.setState({ status: status.PENDING });\r\n\r\n      imageFinderApi(\r\n        this.props.searchQuery,\r\n        this.state.pageNumber\r\n      ).then((images) =>\r\n        this.setState({ images: images, status: status.RESOLVED })\r\n      );\r\n    }\r\n\r\n    if (prevState.pageNumber !== this.state.pageNumber) {\r\n      this.setState({ status: status.PENDING });\r\n\r\n      imageFinderApi(this.props.searchQuery, this.state.pageNumber).then(\r\n        (images) => {\r\n          this.setState((prevState) => {\r\n            return { images: [...prevState.images, ...images] };\r\n          });\r\n          this.setState({ status: status.RESOLVED });\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: \"smooth\",\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  handleBtnClick = () => {\r\n    this.setState((prevState) => {\r\n      return { pageNumber: prevState.pageNumber + 1 };\r\n    });\r\n  };\r\n\r\n  toogleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  getLargeImageURL = (largeImageURL) => {\r\n    this.toogleModal();\r\n    this.setState({ largeImageURL });\r\n  };\r\n\r\n  render() {\r\n    const { images, status, showModal, largeImageURL } = this.state;\r\n\r\n    if (status === \"idle\") {\r\n      return <div></div>;\r\n    }\r\n\r\n    if (status === \"pending\") {\r\n      return (\r\n        <div>\r\n          <ul className=\"ImageGallery\">\r\n            {images && <ImageGalleryItem images={images} />}\r\n          </ul>\r\n          <Spiner />;\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <div>\r\n          <ul className=\"ImageGallery\">\r\n            <ImageGalleryItem\r\n              images={images}\r\n              getLargeImageURL={this.getLargeImageURL}\r\n            />\r\n          </ul>\r\n          <BtnLoadMore onClick={this.handleBtnClick} />\r\n          {showModal && (\r\n            <Modal onClose={this.toogleModal} largeImageURL={largeImageURL} />\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { Component } from \"react\";\nimport Searchbar from \"./components/searchbar/searchbar\";\nimport ImageGallery from \"./components/imageGallery/imageGallery\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleSubmitSeachForm = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleSubmitSeachForm} />\n        <ImageGallery searchQuery={searchQuery} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}